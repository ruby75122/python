#
```
Chapter 3：用序列表示單變數資料
3.1 設定pandas
3.2 建立序列
3.3 .index及.values屬性
3.4 序列的大小及形狀
3.5 在序列建立時指定索引
3.6 頭、尾、選取
3.7 以索引標籤或位置提取序列值
3.8 把序列切割成子集合
3.9 利用索引標籤實現對齊
3.10 執行布林選擇
3.11 將序列重新索引
3.12 原地修改序列
3.13 小結

Chapter 4：用資料框表示表格及多變數資料
4.1 設定pandas
4.2 建立資料框物件
4.3 存取資料框的資料
4.4 利用布林選擇選取列
4.5 跨越行與列進行選取
4.6 小結
```
##Chapter 3：用序列表示單變數資料

### 3.1 設定pandas==>pd.set_option

```
# import numpy and pandas
import numpy as np
import pandas as pd

# used for dates
import datetime
from datetime import datetime, date

# Set some pandas options controlling output format
pd.set_option('display.notebook_repr_html', False)
pd.set_option('display.max_columns', 8)
pd.set_option('display.max_rows', 10)
pd.set_option('display.width', 80)

# bring in matplotlib for graphics
import matplotlib.pyplot as plt
%matplotlib inline

https://www.yiibai.com/pandas/python_pandas_options_and_customization.html
Pandas提供API來自定義其行為的某些方面，大多使用來顯示。

API由五個相關函數組成。它們分別是-
1.get_option()
2.set_option()
3.reset_option()
4.describe_option()
5.option_context()

1.get_option(param)需要一個參數，並返回下面的輸出中給出的值-

#import pandas as pd
print ("display.max_rows = ", pd.get_option("display.max_rows"))

結果- 
display.max_rows =  60

2.set_option(param,value)需要兩個參數，可以更改要顯示的預設行數。

#import pandas as pd

#print ("before set display.max_rows = ", pd.get_option("display.max_rows")) 

#pd.set_option("display.max_rows",80)
print ("after set display.max_rows = ", pd.get_option("display.max_rows"))

結果- 
before set display.max_rows =  60
after set display.max_rows =  80

3.reset_option(param)-接受一個參數，成為該值設置為替換值。

#import pandas as pd

#pd.set_option("display.max_rows",32)
print ("after set display.max_rows = ", pd.get_option("display.max_rows")) 

#pd.reset_option("display.max_rows")
print ("reset display.max_rows = ", pd.get_option("display.max_rows"))

結果- 
after set display.max_rows =  32
reset display.max_rows =  60

4.describe_option(param)-打印參數的描述

#import pandas as pd
pd.describe_option("display.max_rows")

結果- 
display.max_rows : int
    If max_rows is exceeded, switch to truncate view. Depending on
    `large_repr`, objects are either centrally truncated or printed as
    a summary view. 'None' value means unlimited.

    In case python/IPython is running in a terminal and `large_repr`
    equals 'truncate' this can be set to 0 and pandas will auto-detect
    the height of the terminal and print a truncated object which fits
    the screen height. The IPython notebook, IPython qtconsole, or
    IDLE do not run in a terminal and hence it is not possible to do
    correct auto-detection.
    [default: 60] [currently: 60]
    
5.option_context()當退出使用塊時，選項值將自動恢復-
#import pandas as pd
with pd.option_context("display.max_rows",10):
   print(pd.get_option("display.max_rows"))
   print(pd.get_option("display.max_rows"))
   
結果- 
10
10

```

### 屬性值DateTime

```
新的物件，具有與這個執行個體相同的日期，並將時間值設定為午夜 12:00:00 (00:00:00)。

範例
下列範例會使用 Date 屬性來解壓縮 DateTime 值的日期元件，並將其時間元件設定為零（或0:00:00 或午夜）。 
它也會說明，根據顯示 DateTime 值時所使用的格式字串，時間元件可以繼續出現在格式化輸出中。

備註
傳回之 DateTime 值的 Kind 屬性值，與目前實例的值相同。
因為 DateTime 類型代表單一類型中的日期和時間，所以請務必避免將 Date 屬性傳回的日期錯誤解譯為日期和時間。

#using System;

public class Example
{
   public static void Main()
   {
      DateTime date1 = new DateTime(2008, 6, 1, 7, 47, 0);
      Console.WriteLine(date1.ToString());
      
      // Get date-only portion of date, without its time.
      DateTime dateOnly = date1.Date;
      // Display date using short date string.
      Console.WriteLine(dateOnly.ToString("d"));
      // Display date using 24-hour clock.
      Console.WriteLine(dateOnly.ToString("g"));
      Console.WriteLine(dateOnly.ToString("MM/dd/yyyy HH:mm"));   
   }
}
// The example displays output like the following output:
//       6/1/2008 7:47:00 AM
//       6/1/2008
//       6/1/2008 12:00 AM
//       06/01/2008 00:00
```

### 資料視覺化(Matplotlib, Seaborn, Plotly)

```
資料視覺化除了最後一步呈現你的成果之外，還可以在分析的過程中用資料視覺化來看出一些insight，
比方說用熱點圖來看你的Deep learning的model是對圖片中哪一部分的看得較重要，
或是可以降維之後將資料視覺化去看資料在空間中的分佈，來決定下一步的分析要怎麼做。

Python資料視覺化主要有三大套件：
Matplotlib

Seaborn

Plotly

```

### 3.2 建立序列==>pd.Series()

### 3.2.1使用Python串列和字典來建立序列

# create a four item Series

```
# create a series of multiple values from a list
s = pd.Series([10, 11, 12, 13, 14])
s

結果:
0    10
1    11
2    12
3    13
4    14
dtype: int64

# value stored at index label 3
s[3]

結果:
13

# create a Series of alphas
pd.Series(['Mike', 'Marcia', 'Mikael', 'Bleu'])

結果:
0      Mike
1    Marcia
2    Mikael
3      Bleu
dtype: object

# a sequence of 5 values, all 2
pd.Series([2]*5)

結果:
0    2
1    2
2    2
3    2
4    2
dtype: int64

# use each character as a value
pd.Series(list('abcde'))


結果:
0    a
1    b
2    c
3    d
4    e
dtype: object

# create Series from dict
pd.Series({'Mike': 'Dad', 
           'Marcia': 'Mom', 
           'Mikael': 'Son', 
           'Bleu': 'Best doggie ever' })
           
結果:
Bleu      Best doggie ever
Marcia                 Mom
Mikael                 Son
Mike                   Dad
dtype: object
```

```
pandas.Series
class pandas.Series(data=None, index=None, dtype=None, name=None, copy=False, fastpath=False)

```
Parameters

data:array-like, Iterable, dict, or scalar value
Contains data stored in Series.
Changed in version 0.23.0: If data is a dict, argument order is maintained for Python 3.6 and later.

index:array-like or Index (1d)
Values must be hashable and have the same length as data. Non-unique index values are allowed. Will default to RangeIndex (0, 1, 2, …, n) if not provided. If both a dict and index sequence are used, the index will override the keys found in the dict.

dtype:str, numpy.dtype, or ExtensionDtype, optional
Data type for the output Series. If not specified, this will be inferred from data. See the user guide for more usages.

name:str, optional
The name to give to the Series.

copy:bool, default False
Copy input data.
```

https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html

```

### 3.2.2使用NumPy函數創建序列
```
# 4 through 8
pd.Series(np.arange(4, 9))

結果:
0    4
1    5
2    6
3    7
4    8
dtype: int64

# 0 through 9
pd.Series(np.linspace(0, 9, 5))

結果:
0    0.00
1    2.25
2    4.50
3    6.75
4    9.00
dtype: float64

# random numbers
np.random.seed(12345) # always generate the same values
# 5 normally random numbers
pd.Series(np.random.normal(size=5))

結果:
0   -0.204708
1    0.478943
2   -0.519439
3   -0.555730
4    1.965781
dtype: float64
```
### 3.2.3 使用純量值建立序列
```
# create a one item Series
s = pd.Series(2)
s

結果:
0    2
dtype: int64

# create the Series
s = pd.Series(np.arange(0, 5))
# multiple all values by 2
s * 2

結果:
0    0
1    2
2    4
3    6
4    8
dtype: int64
```

### 3.3 .index及.values屬性
```
# get the values in the Series
s = pd.Series([1, 2, 3])
s.values

結果:
array([1, 2, 3])

# show that this is a numpy array
type(s.values)

結果:
numpy.ndarray

# get the index of the Series
s.index

結果:
RangeIndex(start=0, stop=3, step=1)


```

### 3.4 序列的大小及形狀
```
# example series
s = pd.Series([0, 1, 2, 3])
len(s)

結果:
4

# .size is also the # of items in the Series
s.size

結果:
4

# .shape is a tuple with one value
s.shape

結果:
(4,)

```

### 3.5 在序列建立時指定索引
```
# explicitly create an index
labels = ['Mike', 'Marcia', 'Mikael', 'Bleu']
role = ['Dad', 'Mom', 'Son', 'Dog']
s = pd.Series(labels, index=role)
s

結果:
Dad      Mike
Mom    Marcia
Son    Mikael
Dog      Bleu
dtype: object

# examine the index
s.index

結果:
Index(['Dad', 'Mom', 'Son', 'Dog'], dtype='object')

# who is the Dad?
s['Dad']

結果:
'Mike'
```

### 3.6 頭、尾、選取
```
# a ten item Series
s = pd.Series(np.arange(1, 10), 
              index=list('abcdefghi'))


# show the first five
s.head()

結果:
a    1
b    2
c    3
d    4
e    5
dtype: int64

# the first three
s.head(n = 3) # s.head(3) is equivalent

結果:
a    1
b    2
c    3
dtype: int64

# the last five
s.tail()

結果:
e    5
f    6
g    7
h    8
i    9
dtype: int64

# the last 3
s.tail(n = 3) # equivalent to s.tail(3)

結果:
g    7
h    8
i    9
dtype: int64

# only take specific items by position
s.take([1, 5, 8])

結果:
b    2
f    6
i    9
dtype: int64
```

### 3.7 以索引標籤或位置提取序列值
```
# we will use this series to examine lookups
s1 = pd.Series(np.arange(10, 15), index=list('abcde'))
s1

結果:
a    10
b    11
c    12
d    13
e    14
dtype: int64

# get the value with label 'a'
s1['a']

結果:
10

# get multiple items
s1[['d', 'b']]

結果:
d    13
b    11
dtype: int64

# gets values based upon position
s1[[3, 1]]

結果:
d    13
b    11
dtype: int64

# to demo lookup by matching labels as integer values
s2 = pd.Series([1, 2, 3, 4], index=[10, 11, 12, 13])
s2

結果:
10    1
11    2
12    3
13    4
dtype: int64

# this is by label not position
s2[[13, 10]]

結果:
13    4
10    1
dtype: int64
```

### 3.8 把序列切割成子集合
```
# explicitly  by position
s1.iloc[[0, 2]]

結果:
a    10
c    12
dtype: int64

# explicitly  by position
s2.iloc[[3, 2]]

結果:
13    4
12    3
dtype: int64
```
### 3.9 利用索引標籤實現對齊
```
# explicit via labels
s1.loc[['a', 'd']]

結果:
a    10
d    13
dtype: int64

# get items at position 11 an d12
s2.loc[[11, 12]]

結果:
11    2
12    3
dtype: int64

# -1 and 15 will be NaN
s1.loc[['a', 'f']]

結果:
a    10.0
f     NaN
dtype: float64
```
```
3.10 執行布林選擇
3.11 將序列重新索引
3.12 原地修改序列
```
